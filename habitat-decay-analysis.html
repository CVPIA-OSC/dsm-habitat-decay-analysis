<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.245">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Habitat Decay Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="habitat-decay-analysis_files/libs/clipboard/clipboard.min.js"></script>
<script src="habitat-decay-analysis_files/libs/quarto-html/quarto.js"></script>
<script src="habitat-decay-analysis_files/libs/quarto-html/popper.min.js"></script>
<script src="habitat-decay-analysis_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="habitat-decay-analysis_files/libs/quarto-html/anchor.min.js"></script>
<link href="habitat-decay-analysis_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="habitat-decay-analysis_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="habitat-decay-analysis_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="habitat-decay-analysis_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="habitat-decay-analysis_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#data-preperation" id="toc-data-preperation" class="nav-link active" data-scroll-target="#data-preperation">Data Preperation</a>
  <ul class="collapse">
  <li><a href="#gravel-size" id="toc-gravel-size" class="nav-link" data-scroll-target="#gravel-size">Gravel Size</a></li>
  <li><a href="#flow-to-transport-curves" id="toc-flow-to-transport-curves" class="nav-link" data-scroll-target="#flow-to-transport-curves">Flow to transport curves</a></li>
  <li><a href="#flow-data" id="toc-flow-data" class="nav-link" data-scroll-target="#flow-data">Flow Data</a></li>
  </ul></li>
  <li><a href="#optimizations-and-scale-downs" id="toc-optimizations-and-scale-downs" class="nav-link" data-scroll-target="#optimizations-and-scale-downs">Optimizations and scale-downs</a>
  <ul class="collapse">
  <li><a href="#gravel-size-scaledown" id="toc-gravel-size-scaledown" class="nav-link" data-scroll-target="#gravel-size-scaledown">Gravel Size Scaledown</a></li>
  <li><a href="#sediment-in-motion-scaledown" id="toc-sediment-in-motion-scaledown" class="nav-link" data-scroll-target="#sediment-in-motion-scaledown">Sediment in Motion Scaledown</a></li>
  <li><a href="#augmentations-and-depositions" id="toc-augmentations-and-depositions" class="nav-link" data-scroll-target="#augmentations-and-depositions">Augmentations and Depositions</a></li>
  </ul></li>
  <li><a href="#scaling-to-other-watersheds" id="toc-scaling-to-other-watersheds" class="nav-link" data-scroll-target="#scaling-to-other-watersheds">Scaling To Other Watersheds</a>
  <ul class="collapse">
  <li><a href="#comparing-usgs-vs-dsm-flows" id="toc-comparing-usgs-vs-dsm-flows" class="nav-link" data-scroll-target="#comparing-usgs-vs-dsm-flows">Comparing USGS vs DSM flows</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Habitat Decay Analysis</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="data-preperation" class="level2">
<h2 class="anchored" data-anchor-id="data-preperation">Data Preperation</h2>
<p>This section outlines how data was wrangled for use in this analysis. These section are referenced through out this document.</p>
<section id="gravel-size" class="level3">
<h3 class="anchored" data-anchor-id="gravel-size">Gravel Size</h3>
<p>Gravel size data was obtained by digitizing the bar plot shown below from the <a href="#">link to report</a>.</p>
<p><img src="assets/gravel-scaledown-source.png" class="img-fluid" alt="Figure of source plot from which we digitized data"></p>
<p>The digitizing process was done using <a href="#">Webplot Digitizer</a> and produced the following data.</p>
<div class="cell">
<div class="cell-output-display">

<div id="cviweddrhz" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#cviweddrhz) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#cviweddrhz) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#cviweddrhz) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#cviweddrhz) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#cviweddrhz) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#cviweddrhz) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#cviweddrhz) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#cviweddrhz) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#cviweddrhz) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#cviweddrhz) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#cviweddrhz) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#cviweddrhz) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#cviweddrhz) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#cviweddrhz) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#cviweddrhz) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#cviweddrhz) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#cviweddrhz) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cviweddrhz) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#cviweddrhz) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#cviweddrhz) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cviweddrhz) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#cviweddrhz) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#cviweddrhz) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#cviweddrhz) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cviweddrhz) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#cviweddrhz) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#cviweddrhz) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#cviweddrhz) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#cviweddrhz) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cviweddrhz) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#cviweddrhz) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cviweddrhz) .gt_left {
  text-align: left;
}

:where(#cviweddrhz) .gt_center {
  text-align: center;
}

:where(#cviweddrhz) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#cviweddrhz) .gt_font_normal {
  font-weight: normal;
}

:where(#cviweddrhz) .gt_font_bold {
  font-weight: bold;
}

:where(#cviweddrhz) .gt_font_italic {
  font-style: italic;
}

:where(#cviweddrhz) .gt_super {
  font-size: 65%;
}

:where(#cviweddrhz) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#cviweddrhz) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#cviweddrhz) .gt_indent_1 {
  text-indent: 5px;
}

:where(#cviweddrhz) .gt_indent_2 {
  text-indent: 10px;
}

:where(#cviweddrhz) .gt_indent_3 {
  text-indent: 15px;
}

:where(#cviweddrhz) .gt_indent_4 {
  text-indent: 20px;
}

:where(#cviweddrhz) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Flow (m3s)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Fraction</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Reach</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">210</td>
<td class="gt_row gt_right">0.08060183</td>
<td class="gt_row gt_left">kes_to_ben</td></tr>
    <tr><td class="gt_row gt_right">500</td>
<td class="gt_row gt_right">0.28909189</td>
<td class="gt_row gt_left">kes_to_ben</td></tr>
    <tr><td class="gt_row gt_right">750</td>
<td class="gt_row gt_right">0.46587856</td>
<td class="gt_row gt_left">kes_to_ben</td></tr>
    <tr><td class="gt_row gt_right">1000</td>
<td class="gt_row gt_right">0.60881247</td>
<td class="gt_row gt_left">kes_to_ben</td></tr>
    <tr><td class="gt_row gt_right">1250</td>
<td class="gt_row gt_right">0.65502418</td>
<td class="gt_row gt_left">kes_to_ben</td></tr>
    <tr><td class="gt_row gt_right">1500</td>
<td class="gt_row gt_right">0.70445997</td>
<td class="gt_row gt_left">kes_to_ben</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Gravel scaledown is further summarized to a single flow to fraction of movement curve to represent the entire area of interest. This process is shown below as well as the output.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>gravel_size_scaledown_summarized <span class="ot">&lt;-</span> gravel_size_scaledown <span class="sc">|&gt;</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">flow_cfs =</span> flow_m3s <span class="sc">*</span> <span class="fl">35.315</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">flow_cfday =</span> flow_cfs <span class="sc">*</span> <span class="dv">86400</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(flow_cfs) <span class="sc">|&gt;</span> </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_fraction =</span> <span class="fu">min</span>(fraction), </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_fraction =</span> <span class="fu">mean</span>(fraction),</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_fraction =</span> <span class="fu">max</span>(fraction)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">gt</span>(gravel_size_scaledown_summarized)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="cahzzninxd" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#cahzzninxd) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#cahzzninxd) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#cahzzninxd) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#cahzzninxd) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#cahzzninxd) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#cahzzninxd) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#cahzzninxd) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#cahzzninxd) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#cahzzninxd) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#cahzzninxd) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#cahzzninxd) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#cahzzninxd) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#cahzzninxd) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#cahzzninxd) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#cahzzninxd) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#cahzzninxd) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#cahzzninxd) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cahzzninxd) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#cahzzninxd) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#cahzzninxd) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cahzzninxd) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#cahzzninxd) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#cahzzninxd) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#cahzzninxd) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cahzzninxd) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#cahzzninxd) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#cahzzninxd) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#cahzzninxd) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#cahzzninxd) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cahzzninxd) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#cahzzninxd) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cahzzninxd) .gt_left {
  text-align: left;
}

:where(#cahzzninxd) .gt_center {
  text-align: center;
}

:where(#cahzzninxd) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#cahzzninxd) .gt_font_normal {
  font-weight: normal;
}

:where(#cahzzninxd) .gt_font_bold {
  font-weight: bold;
}

:where(#cahzzninxd) .gt_font_italic {
  font-style: italic;
}

:where(#cahzzninxd) .gt_super {
  font-size: 65%;
}

:where(#cahzzninxd) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#cahzzninxd) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#cahzzninxd) .gt_indent_1 {
  text-indent: 5px;
}

:where(#cahzzninxd) .gt_indent_2 {
  text-indent: 10px;
}

:where(#cahzzninxd) .gt_indent_3 {
  text-indent: 15px;
}

:where(#cahzzninxd) .gt_indent_4 {
  text-indent: 20px;
}

:where(#cahzzninxd) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">flow_cfs</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">min_fraction</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">avg_fraction</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">max_fraction</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">7416.15</td>
<td class="gt_row gt_right">0.08060183</td>
<td class="gt_row gt_right">0.09683229</td>
<td class="gt_row gt_right">0.1217712</td></tr>
    <tr><td class="gt_row gt_right">17657.50</td>
<td class="gt_row gt_right">0.19411461</td>
<td class="gt_row gt_right">0.27333493</td>
<td class="gt_row gt_right">0.3368477</td></tr>
    <tr><td class="gt_row gt_right">26486.25</td>
<td class="gt_row gt_right">0.30252969</td>
<td class="gt_row gt_right">0.41972416</td>
<td class="gt_row gt_right">0.4928835</td></tr>
    <tr><td class="gt_row gt_right">35315.00</td>
<td class="gt_row gt_right">0.38306660</td>
<td class="gt_row gt_right">0.51274475</td>
<td class="gt_row gt_right">0.6088125</td></tr>
    <tr><td class="gt_row gt_right">44143.75</td>
<td class="gt_row gt_right">0.41610738</td>
<td class="gt_row gt_right">0.54521928</td>
<td class="gt_row gt_right">0.6550242</td></tr>
    <tr><td class="gt_row gt_right">52972.50</td>
<td class="gt_row gt_right">0.43675787</td>
<td class="gt_row gt_right">0.57055581</td>
<td class="gt_row gt_right">0.7044600</td></tr>
    <tr><td class="gt_row gt_right">70630.00</td>
<td class="gt_row gt_right">0.44708312</td>
<td class="gt_row gt_right">0.57851267</td>
<td class="gt_row gt_right">0.7442235</td></tr>
    <tr><td class="gt_row gt_right">79105.60</td>
<td class="gt_row gt_right">0.42886387</td>
<td class="gt_row gt_right">0.54217490</td>
<td class="gt_row gt_right">0.7603439</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="flow-to-transport-curves" class="level3">
<h3 class="anchored" data-anchor-id="flow-to-transport-curves">Flow to transport curves</h3>
<p>Flow to sediment transport curves were created using an SRH2D model developed for the Upper Sacramento River.</p>
<div class="cell">

</div>
<p>The raw data has the following format:</p>
<div class="cell">
<div class="cell-output-display">

<div id="uolwadbayt" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#uolwadbayt) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#uolwadbayt) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#uolwadbayt) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#uolwadbayt) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#uolwadbayt) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#uolwadbayt) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#uolwadbayt) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#uolwadbayt) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#uolwadbayt) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#uolwadbayt) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#uolwadbayt) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#uolwadbayt) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#uolwadbayt) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#uolwadbayt) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#uolwadbayt) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#uolwadbayt) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#uolwadbayt) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uolwadbayt) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#uolwadbayt) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#uolwadbayt) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uolwadbayt) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#uolwadbayt) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#uolwadbayt) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#uolwadbayt) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uolwadbayt) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#uolwadbayt) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#uolwadbayt) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#uolwadbayt) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#uolwadbayt) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uolwadbayt) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#uolwadbayt) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uolwadbayt) .gt_left {
  text-align: left;
}

:where(#uolwadbayt) .gt_center {
  text-align: center;
}

:where(#uolwadbayt) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#uolwadbayt) .gt_font_normal {
  font-weight: normal;
}

:where(#uolwadbayt) .gt_font_bold {
  font-weight: bold;
}

:where(#uolwadbayt) .gt_font_italic {
  font-style: italic;
}

:where(#uolwadbayt) .gt_super {
  font-size: 65%;
}

:where(#uolwadbayt) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#uolwadbayt) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#uolwadbayt) .gt_indent_1 {
  text-indent: 5px;
}

:where(#uolwadbayt) .gt_indent_2 {
  text-indent: 10px;
}

:where(#uolwadbayt) .gt_indent_3 {
  text-indent: 15px;
}

:where(#uolwadbayt) .gt_indent_4 {
  text-indent: 20px;
}

:where(#uolwadbayt) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Flow (cfs)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Parker</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Wilcock</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Gaeuman</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">River Mile</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">210</td>
<td class="gt_row gt_right">0.000071</td>
<td class="gt_row gt_right">0.000096</td>
<td class="gt_row gt_right">0.000246</td>
<td class="gt_row gt_right">283.33</td></tr>
    <tr><td class="gt_row gt_right">500</td>
<td class="gt_row gt_right">0.004994</td>
<td class="gt_row gt_right">0.001350</td>
<td class="gt_row gt_right">0.003240</td>
<td class="gt_row gt_right">283.33</td></tr>
    <tr><td class="gt_row gt_right">750</td>
<td class="gt_row gt_right">0.036029</td>
<td class="gt_row gt_right">0.005301</td>
<td class="gt_row gt_right">0.013065</td>
<td class="gt_row gt_right">283.33</td></tr>
    <tr><td class="gt_row gt_right">1000</td>
<td class="gt_row gt_right">0.150990</td>
<td class="gt_row gt_right">0.016174</td>
<td class="gt_row gt_right">0.039437</td>
<td class="gt_row gt_right">283.33</td></tr>
    <tr><td class="gt_row gt_right">1250</td>
<td class="gt_row gt_right">0.368879</td>
<td class="gt_row gt_right">0.036586</td>
<td class="gt_row gt_right">0.085184</td>
<td class="gt_row gt_right">283.33</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="5"> 355 additional rows not shown</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
<section id="processing-transport-curves" class="level4">
<h4 class="anchored" data-anchor-id="processing-transport-curves">Processing transport curves</h4>
<p>Transport curves for 4 different <strong>models</strong> are provided, each of these is defined for set of flows and at a set of river mile locations. We compute a single curve from these by first extracting the minumum transport from each of the 4 curves at corresponding river mile and flow values. After this we summarize again, this time across all river miles. We end up with a single curve with shown below.</p>
<p><em>Note: our choice choosing the minimum in the first summary above is somewhat arbitraty and can be easily updated</em></p>
<div class="cell" data-hash="habitat-decay-analysis_cache/html/unnamed-chunk-5_c0241869b22173a0be2b8575e8410496">

</div>
<p>This results in the following data:</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="habitat-decay-analysis_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="generalizing-the-relationship" class="level4">
<h4 class="anchored" data-anchor-id="generalizing-the-relationship">Generalizing the relationship</h4>
<p>We generalize the relationship above by making use of R’s <code>approxfun</code> function generator. The setup of this is shown here:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>flow_cfs_to_sed_transport_cfs <span class="ot">&lt;-</span> <span class="fu">approxfun</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> rating_curve<span class="sc">$</span>flow_cfs, </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> rating_curve<span class="sc">$</span>sed_ft3_per_second_min</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>flow_cfs_to_sed_transport_cfd <span class="ot">&lt;-</span> <span class="fu">approxfun</span>(</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> rating_curve<span class="sc">$</span>flow_cfs, </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> rating_curve<span class="sc">$</span>sed_ft3_per_day_min</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The two functions can be used to obtain a transport value given a flow value in cfs. R’s <code>approxfun</code> uses linear interpolation to calculate these.</p>
</section>
</section>
<section id="flow-data" class="level3">
<h3 class="anchored" data-anchor-id="flow-data">Flow Data</h3>
<p>Ultimately we will use the flow data from the DSM package <code>DSMflow</code> to drive our decay values. However, we want to make sure that the flows that were used to develop these curves are reasonable close to those from the DSM to proceed in the process.</p>
<p><em>TODO: emanuel to move old figures here</em></p>
<div class="cell">

</div>
<div class="cell">

</div>
</section>
</section>
<section id="optimizations-and-scale-downs" class="level2">
<h2 class="anchored" data-anchor-id="optimizations-and-scale-downs">Optimizations and scale-downs</h2>
<p>In this section we describe a series ot “scale-downs” performed to the transport curves in order to better represent known events, and domain expert observations.</p>
<section id="gravel-size-scaledown" class="level3">
<h3 class="anchored" data-anchor-id="gravel-size-scaledown">Gravel Size Scaledown</h3>
<p>The first scale-down is based on a size threshold. Given a flow we assume only a fraction of gravel is able to move based on its size. This data was processed in the <a href="#gravel-size-scaledown">Gravel Size Scaledown</a> section above. We use the average flow to fraction of movement curve across all reaches defined in the data to scale-down the transport curve.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="habitat-decay-analysis_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="sediment-in-motion-scaledown" class="level3">
<h3 class="anchored" data-anchor-id="sediment-in-motion-scaledown">Sediment in Motion Scaledown</h3>
<p>The second scale-down we perform is to account for sediment still in motion. To do this we carry out an optimization process that assumes full habitat amount on the first day of 2015. That is 254690.3 square meters. When converted to cubic feet for use alongside the sediment transport we assume 2 feet of depth and value becomes 5482973 cubic feet. Based on observed data we anticipate this volume of habitat to have decayed to zero by April 1st of 2017. The objective function and process is shown below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>objective_func <span class="ot">&lt;-</span> <span class="cf">function</span>(threshold) {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale down the tranport curves to just the d50mm threshold of movement</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  scaled_sed_transport <span class="ot">&lt;-</span> rating_curve<span class="sc">$</span>sed_ft3_per_day_min <span class="sc">*</span> </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    gravel_size_scaledown_summarized<span class="sc">$</span>avg_fraction</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create an approxfun given a threshold of movement (this value will be searched by the optim function)</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  calib_sed_curve <span class="ot">&lt;-</span> <span class="fu">approxfun</span>(rating_curve<span class="sc">$</span>flow_cfs, </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>                         scaled_sed_transport <span class="sc">*</span> </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">rep</span>(threshold, </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">length</span>(rating_curve<span class="sc">$</span>flow_cfs)))</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># convert square meters to cubic feet, assume 2ft depth</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  starting_volume <span class="ot">&lt;-</span> (<span class="fl">254690.3</span> <span class="sc">*</span> <span class="fl">10.764</span>) <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  calib_kwk_sed_transport <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> kwk_usgs<span class="sc">$</span>Date, </span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">flow =</span> kwk_usgs<span class="sc">$</span>Flow, </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">sediment_transport_f3_day =</span> <span class="fu">calib_sed_curve</span>(flow)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">sediment_transport_f3_day =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(sediment_transport_f3_day), <span class="dv">0</span>, sediment_transport_f3_day))</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  calib_kwk_sed_transport_sim <span class="ot">&lt;-</span> calib_kwk_sed_transport <span class="sc">|&gt;</span> </span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(date <span class="sc">&gt;=</span> <span class="st">"2015-01-01"</span>, date <span class="sc">&lt;=</span> <span class="st">"2017-04-01"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">sediment_transport_f3_day =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(sediment_transport_f3_day), <span class="dv">0</span>, sediment_transport_f3_day), </span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>           <span class="at">sediment_transport_f3_day_accum =</span> <span class="fu">cumsum</span>(sediment_transport_f3_day),</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>           <span class="at">current_vol =</span> starting_volume <span class="sc">-</span> sediment_transport_f3_day_accum)</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  last_volume <span class="ot">&lt;-</span> calib_kwk_sed_transport_sim <span class="sc">|&gt;</span> <span class="fu">tail</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> <span class="fu">pull</span>(current_vol)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># return absolute distance to zero</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">abs</span>(last_volume <span class="sc">-</span> <span class="dv">0</span>))</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a><span class="co"># We want to optimize the function by the threshold value that results</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a><span class="co"># in the volumne nearest zero.</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">optimise</span>(objective_func, <span class="at">interval =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">maximum =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="habitat-decay-analysis_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="augmentations-and-depositions" class="level3">
<h3 class="anchored" data-anchor-id="augmentations-and-depositions">Augmentations and Depositions</h3>
<p>The goal for this optimization process is to scale the curve so that we are meeting known annual decay after accounting for augmentations and depositions. This annual decay rate was obtained by consulting domain experts who have been working in the Upper Sacramento River for over 15 years. Based on input we expect to see on average about 1 acre of decay per year.</p>
<section id="augmentation-data" class="level4">
<h4 class="anchored" data-anchor-id="augmentation-data">Augmentation Data</h4>
<p>Augmentation data was obtained from two sources</p>
<ul>
<li>John Hannon - Upper Sacramento River Augmentations <a href="#">source</a></li>
<li>Stillwater - Sacramento River Ecological Flows Study <a href="#">source</a></li>
</ul>
<p>These two sources we combined and converted to acres, to produce the following:</p>
<div class="cell">
<div class="cell-output-display">

<div id="hnkqbyfguy" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#hnkqbyfguy) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#hnkqbyfguy) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#hnkqbyfguy) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#hnkqbyfguy) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#hnkqbyfguy) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#hnkqbyfguy) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#hnkqbyfguy) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#hnkqbyfguy) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#hnkqbyfguy) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#hnkqbyfguy) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#hnkqbyfguy) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#hnkqbyfguy) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#hnkqbyfguy) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#hnkqbyfguy) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#hnkqbyfguy) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#hnkqbyfguy) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#hnkqbyfguy) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hnkqbyfguy) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#hnkqbyfguy) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#hnkqbyfguy) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hnkqbyfguy) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#hnkqbyfguy) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#hnkqbyfguy) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#hnkqbyfguy) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hnkqbyfguy) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#hnkqbyfguy) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#hnkqbyfguy) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#hnkqbyfguy) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#hnkqbyfguy) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hnkqbyfguy) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#hnkqbyfguy) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hnkqbyfguy) .gt_left {
  text-align: left;
}

:where(#hnkqbyfguy) .gt_center {
  text-align: center;
}

:where(#hnkqbyfguy) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#hnkqbyfguy) .gt_font_normal {
  font-weight: normal;
}

:where(#hnkqbyfguy) .gt_font_bold {
  font-weight: bold;
}

:where(#hnkqbyfguy) .gt_font_italic {
  font-style: italic;
}

:where(#hnkqbyfguy) .gt_super {
  font-size: 65%;
}

:where(#hnkqbyfguy) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#hnkqbyfguy) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#hnkqbyfguy) .gt_indent_1 {
  text-indent: 5px;
}

:where(#hnkqbyfguy) .gt_indent_2 {
  text-indent: 10px;
}

:where(#hnkqbyfguy) .gt_indent_3 {
  text-indent: 15px;
}

:where(#hnkqbyfguy) .gt_indent_4 {
  text-indent: 20px;
}

:where(#hnkqbyfguy) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">date</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">acres</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">1978-01-31</td>
<td class="gt_row gt_right">1.426869</td></tr>
    <tr><td class="gt_row gt_right">1979-01-31</td>
<td class="gt_row gt_right">2.695647</td></tr>
    <tr><td class="gt_row gt_right">1988-01-31</td>
<td class="gt_row gt_right">4.957558</td></tr>
    <tr><td class="gt_row gt_right">1989-01-31</td>
<td class="gt_row gt_right">2.480806</td></tr>
    <tr><td class="gt_row gt_right">1990-01-31</td>
<td class="gt_row gt_right">30.965483</td></tr>
    <tr><td class="gt_row gt_right">1997-01-31</td>
<td class="gt_row gt_right">6.404959</td></tr>
    <tr><td class="gt_row gt_right">1998-01-31</td>
<td class="gt_row gt_right">4.752066</td></tr>
    <tr><td class="gt_row gt_right">1999-01-31</td>
<td class="gt_row gt_right">5.165289</td></tr>
    <tr><td class="gt_row gt_right">2000-01-31</td>
<td class="gt_row gt_right">6.611570</td></tr>
    <tr><td class="gt_row gt_right">2002-01-31</td>
<td class="gt_row gt_right">3.099174</td></tr>
    <tr><td class="gt_row gt_right">2003-01-31</td>
<td class="gt_row gt_right">1.818182</td></tr>
    <tr><td class="gt_row gt_right">2004-01-31</td>
<td class="gt_row gt_right">1.756198</td></tr>
    <tr><td class="gt_row gt_right">2005-01-31</td>
<td class="gt_row gt_right">1.487603</td></tr>
    <tr><td class="gt_row gt_right">2006-01-31</td>
<td class="gt_row gt_right">1.239669</td></tr>
    <tr><td class="gt_row gt_right">2007-01-31</td>
<td class="gt_row gt_right">1.239669</td></tr>
    <tr><td class="gt_row gt_right">2008-01-31</td>
<td class="gt_row gt_right">1.714876</td></tr>
    <tr><td class="gt_row gt_right">2009-01-31</td>
<td class="gt_row gt_right">2.045455</td></tr>
    <tr><td class="gt_row gt_right">2010-01-31</td>
<td class="gt_row gt_right">1.136364</td></tr>
    <tr><td class="gt_row gt_right">2011-01-31</td>
<td class="gt_row gt_right">1.033058</td></tr>
    <tr><td class="gt_row gt_right">2012-01-31</td>
<td class="gt_row gt_right">3.099174</td></tr>
    <tr><td class="gt_row gt_right">2013-01-31</td>
<td class="gt_row gt_right">2.892562</td></tr>
    <tr><td class="gt_row gt_right">2014-01-31</td>
<td class="gt_row gt_right">0.000000</td></tr>
    <tr><td class="gt_row gt_right">2015-01-31</td>
<td class="gt_row gt_right">0.000000</td></tr>
    <tr><td class="gt_row gt_right">2016-01-31</td>
<td class="gt_row gt_right">6.611570</td></tr>
    <tr><td class="gt_row gt_right">2017-01-31</td>
<td class="gt_row gt_right">2.892562</td></tr>
    <tr><td class="gt_row gt_right">2018-01-31</td>
<td class="gt_row gt_right">0.000000</td></tr>
    <tr><td class="gt_row gt_right">2019-01-31</td>
<td class="gt_row gt_right">6.611570</td></tr>
    <tr><td class="gt_row gt_right">2022-01-31</td>
<td class="gt_row gt_right">4.132231</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="apply-decay-and-augmentations" class="level4">
<h4 class="anchored" data-anchor-id="apply-decay-and-augmentations">Apply Decay and Augmentations</h4>
<p>At this point we apply the decay curves (with threshold of movement and still-in motion scale-downs already applied) to the DSM Flows to calculate decay and add to this the observed augmentations.</p>
<p>We can use two sources for flows, DSM flows (CALSIM) used in the DSM models 1980-2000 or known USGS flows 1980-2022.</p>
<p><strong>DSM Flows</strong></p>
<p>Average annual decay with final scale-down.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] -1.17586</code></pre>
</div>
</div>
<p>Accumulated decay</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="habitat-decay-analysis_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>USGS Flows</strong></p>
<p>Average annual decay with final scale-down.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] -1.151983</code></pre>
</div>
</div>
<p>Accumulated decay</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="habitat-decay-analysis_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="apply-decay-to-spawning-habitat" class="level4">
<h4 class="anchored" data-anchor-id="apply-decay-to-spawning-habitat">Apply Decay to Spawning Habitat</h4>
<p>Here we apply the final version of the curve to the spawning habitat used in the model.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="habitat-decay-analysis_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
</section>
<section id="scaling-to-other-watersheds" class="level2">
<h2 class="anchored" data-anchor-id="scaling-to-other-watersheds">Scaling To Other Watersheds</h2>
<section id="comparing-usgs-vs-dsm-flows" class="level3">
<h3 class="anchored" data-anchor-id="comparing-usgs-vs-dsm-flows">Comparing USGS vs DSM flows</h3>
<div class="cell">
<div class="cell-output-display">
<p><img src="habitat-decay-analysis_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="habitat-decay-analysis_files/figure-html/unnamed-chunk-18-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>summary stats</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7,819 × 4
   date        flow exceedance_p source
   &lt;date&gt;     &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt; 
 1 1986-04-30  7530          0.5 cdec  
 2 1986-09-20  7530          0.5 cdec  
 3 1986-09-21  7530          0.5 cdec  
 4 1986-09-22  7530          0.5 cdec  
 5 1991-09-03  7530          0.5 cdec  
 6 1992-06-12  7530          0.5 cdec  
 7 1992-07-15  7530          0.5 cdec  
 8 1993-05-07  7530          0.5 cdec  
 9 1998-10-10  7530          0.5 cdec  
10 1999-01-31  7530          0.5 cdec  
# … with 7,809 more rows</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 4
  date        flow exceedance_p source
  &lt;date&gt;     &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt; 
1 2000-02-15 40000       0.0147 cdec  </code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="habitat-decay-analysis_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="habitat-decay-analysis_files/figure-html/unnamed-chunk-20-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>